
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- external css -->
    <!-- past only the external css used like cdns and stuff  -->

    <!-- internal css -->
    <link rel="stylesheet" href="../css/style.css">

    <!-- fonts -->
    <!-- paste the font cdns here !  -->



    <title>Contact</title>
</head>
<body>
    <div class="form-container">
        <form class="funky-form" name="formy">
        <div class="form-heading">
            <h1>Dont be shy.. Say Hi <span id="heading-emo" style="opacity: 1;color: #fff;font-size: 40px; ">ğŸ‘‹ğŸ»</span>
                <br>
                <span class="ad">or.. Feel free to leave a feedback</span>
            </h1>
        </div>
        <input  id="title-content" type="text" name="title" autocomplete="off" placeholder="'what did you like about us ğŸ¤” ?' " required>
        <br>
        <textarea   id="text-content" cols="30" rows="10" name="content" autocomplete="off" placeholder=" & why ? ğŸ˜" required></textarea>
        <br>
        <button type="submit" id="submit" class="secondary-btn">Submit</button>

    </form>
    <div class="message">
        Thank you ! <span class="emo">ğŸ‘‹ğŸ»</span>
    </div>
    <div class="contact-socials">
        <h1>box for filling in social media details or animation! 
            <br>
            ps: go crazy
        </h1>
    </div>
    </div>
    
<!-- external js  -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.0/gsap.min.js" integrity="sha512-2fk3Q4NXPYAqIha0glLZ2nluueK43aNoxvijPf53+DgL7UW9mkN+uXc1aEmnZdkkZVvtJZltpRt+JqTWc3TS3Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<!-- internal js -->

<script src="../js/app.js"></script>
<script>

const req = document.getElementById('submit');
const text = document.getElementById('text-content');
const title = document.getElementById('title-content');
const mess = document.querySelector('.message');
const emote = document.getElementById('heading-emo');

req.addEventListener('click',(event)=>{


    




    event.preventDefault();
    // // backend 
    // fetch('http://localhost:1111/contact') 
    // .then(response => response.json())
    // .then(data => console.log('Success :', data))
    // .catch(error => console.log(error))

    let data = {

        title:title.value,
        content:text.value,
    }
    console.log(data)
    

    const url = 'http://localhost:1111/contact';

    fetch(url, {
    method: 'POST', // *GET, POST, PUT, DELETE, etc.
    // mode: 'cors', // no-cors, *cors, same-origin
    headers: {
      'Content-Type': 'application/json'
    },
   
    body:JSON.stringify(data)// body data type must match "Content-Type" header
  }).then(response => response.json())
    .then(() => {


        // mess.innerHTML = `${JSON.stringify(data)}`;
        const message =  gsap.timeline();

                    message.from('.message',{

                        bottom:-70,
                        duration:0.2,
                        opacity:0,
                        display:'none', 
                        position:'absolute',

                        
                    })
                    message.to('.message',{

                        bottom:200,
                        duration:0.5,
                    
                        opacity:1,
                        display:'flex',
                        position:'absolute',
                        ease:Elastic.easeOut.config(1,0.5),

                    })
                    message.from('.emo',{
                        rotate:0,
                        transformOrigin:'bottom right',
                    })
                    message.to('.emo',{
                        rotate:50,
                        duration:0.5,
                        transformOrigin:'bottom right',
                        

                    })
                    message.to('.emo',{
                        rotate:0,
                        transformOrigin:'bottom right',
                    })
                    message.to('.message',{

                        bottom:-70,
                        duration:0.5,
                        delay:1,
                        opacity:0,
                        display:'flex', 
                        position:'absolute'


                    }) 
        
                    document.formy.reset();
                    
                    setInterval(() => {
                        
                        emote.innerHTML = "ğŸ‘ğŸ»";

                    },3000)
                    
        

    })
    .catch(error => console.log(error))
  
    


    


});


</script>

</body>
</html>